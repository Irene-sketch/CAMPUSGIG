<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Your Profile</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">
    <div class="bg-white p-8 md:p-12 rounded-3xl shadow-xl max-w-2xl w-full">
        <h1 class="text-3xl md:text-4xl font-extrabold text-blue-800 text-center mb-2">Create Your Profile</h1>
        <p class="text-center text-gray-600 mb-8">Enter your details and add your gigs.</p>

        <form id="profileForm" class="space-y-6">
            <!-- User Details Section -->
            <div class="bg-gray-50 p-6 rounded-2xl border border-gray-200">
                <h2 class="text-xl font-bold text-gray-700 mb-4">Personal Information</h2>
                <div class="space-y-4">
                    <div>
                        <label for="fullName" class="block text-sm font-medium text-gray-700">Full Name</label>
                        <input type="text" id="fullName" name="fullName" required class="mt-1 block w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g., Jane Doe">
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700">Email Address</label>
                        <input type="email" id="email" name="email" required class="mt-1 block w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g., jane.doe@college.edu">
                    </div>
                    <div>
                        <label for="bio" class="block text-sm font-medium text-gray-700">Bio / Headline</label>
                        <textarea id="bio" name="bio" rows="3" required class="mt-1 block w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g., Student Freelancer | Web Developer & Designer"></textarea>
                    </div>
                </div>
            </div>

            <!-- Gigs Section -->
            <div class="bg-gray-50 p-6 rounded-2xl border border-gray-200">
                <h2 class="text-xl font-bold text-gray-700 mb-4">My Gigs</h2>
                <div id="gigInputSection" class="space-y-4">
                    <!-- Gig input fields -->
                    <div>
                        <label for="gigTitle" class="block text-sm font-medium text-gray-700">Gig Title</label>
                        <input type="text" id="gigTitle" class="mt-1 block w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g., I will design a modern website">
                    </div>
                    <div>
                        <label for="gigPrice" class="block text-sm font-medium text-gray-700">Starting Price ($)</label>
                        <input type="number" id="gigPrice" class="mt-1 block w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g., 50">
                    </div>
                    <div>
                        <label for="gigDescription" class="block text-sm font-medium text-gray-700">Gig Description</label>
                        <textarea id="gigDescription" rows="2" class="mt-1 block w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g., A complete website design for your portfolio or club."></textarea>
                    </div>
                    <button type="button" id="addGigBtn" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-full shadow-sm text-sm font-semibold text-white bg-green-500 hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-400 transition-all duration-300">
                        + Add Another Gig...
                    </button>
                </div>
                
                <div id="gigsList" class="mt-6 space-y-4">
                    <!-- Gigs will be added here dynamically -->
                </div>
            </div>

            <!-- Save Button -->
            <button type="submit" class="w-full flex justify-center py-3 px-4 border border-transparent rounded-full shadow-sm text-lg font-bold text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-300 ease-in-out">
                Save & View Profile....
            </button>
        </form>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const profileForm = document.getElementById('profileForm');
            const addGigBtn = document.getElementById('addGigBtn');
            const gigsList = document.getElementById('gigsList');
            let gigs = [];

            // Function to render gigs in the list
            function renderGigs() {
                gigsList.innerHTML = '';
                gigs.forEach((gig, index) => {
                    const gigCard = document.createElement('div');
                    gigCard.className = 'bg-white p-4 rounded-xl shadow border border-gray-200 flex justify-between items-center';
                    gigCard.innerHTML = `
                        <div>
                            <h3 class="font-semibold text-gray-800">${gig.title}</h3>
                            <p class="text-sm text-gray-500">â‚¹${gig.price}</p>
                        </div>
                        <button type="button" class="remove-gig-btn text-red-500 hover:text-red-700 transition" data-index="${index}">
                            Remove
                        </button>
                    `;
                    gigsList.appendChild(gigCard);
                });
            }

            // Add gig button click handler
            addGigBtn.addEventListener('click', () => {
                const gigTitle = document.getElementById('gigTitle').value;
                const gigPrice = document.getElementById('gigPrice').value;
                const gigDescription = document.getElementById('gigDescription').value;

                if (gigTitle && gigPrice && gigDescription) {
                    gigs.push({
                        title: gigTitle,
                        price: gigPrice,
                        description: gigDescription
                    });

                    // Clear input fields
                    document.getElementById('gigTitle').value = '';
                    document.getElementById('gigPrice').value = '';
                    document.getElementById('gigDescription').value = '';

                    renderGigs();
                } else {
                    alert('Please fill out all gig details.');
                }
            });

            // Remove gig button click handler (event delegation)
            gigsList.addEventListener('click', (event) => {
                if (event.target.classList.contains('remove-gig-btn')) {
                    const index = event.target.dataset.index;
                    gigs.splice(index, 1);
                    renderGigs();
                }
            });

            // Form submission handler
            profileForm.addEventListener('submit', (event) => {
                event.preventDefault();

                const profileData = {
                    fullName: document.getElementById('fullName').value,
                    email: document.getElementById('email').value,
                    bio: document.getElementById('bio').value,
                    gigs: gigs
                };

                // Save data to localStorage
                localStorage.setItem('campusGigProfileData', JSON.stringify(profileData));

                // Redirect to the display page
                window.location.href = 'fiverr_profile.html';
            });
        });
    </script>
</body>
</html>